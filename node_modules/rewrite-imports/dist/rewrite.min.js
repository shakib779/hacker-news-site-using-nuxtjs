!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e["rewrite-imports"]=t()}(this,function(){"use strict";var e=/(^|;|\s+)import\s*['"]([^'"]+)['"](?=($|;|\s))/gi,t=/(^|[;\s]+)?import\s*(\*\s*as)?\s*(\w*?)\s*,?\s*(?:\{([\s\S]*?)\})?\s*from\s*['"]([^'"]+)['"];?/gi;function n(e,t){for(var n=[];e.length;)n.push(e.shift().trim().replace(/ as /g,":"));return"const { "+n.join(", ")+" } = "+t+";"}return function(r,s){return s=s||"require",r.replace(e,"$1"+s+"('$2')").replace(t,function(e,t,r,i,o,u){return(t||"")+function(e,t,r,s){return t=s+"('"+t+"')",e.length&&!r?n(e,t):"const "+r+" = "+t+";"+(e.length?"\n"+n(e,r):"")}(o?o.split(","):[],u,i,s)})}});